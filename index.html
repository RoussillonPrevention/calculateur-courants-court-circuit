<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Courants de Court-Circuit</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        select, input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
        }
        .Ik3 {
            color: red;
            font-weight: bold;
        }
        .Ik2 {
            color: green;
            font-weight: bold;
        }
        .Ik1 {
            color: blue;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calculateur de Courants de Court-Circuit</h1>
        
        <div class="form-group">
            <label for="transfo-power">Puissance du transformateur (kVA):</label>
            <select id="transfo-power">
                <option value="25">25 kVA</option>
                <option value="40">40 kVA</option>
                <option value="50">50 kVA</option>
                <option value="63">63 kVA</option>
                <option value="80">80 kVA</option>
                <option value="100">100 kVA</option>
                <option value="125">125 kVA</option>
                <option value="160">160 kVA</option>
                <option value="200">200 kVA</option>
                <option value="250">250 kVA</option>
                <option value="315">315 kVA</option>
                <option value="400">400 kVA</option>
                <option value="500">500 kVA</option>
                <option value="630">630 kVA</option>
                <option value="800">800 kVA</option>
                <option value="1000">1000 kVA</option>
                <option value="1250">1250 kVA</option>
                <option value="1600">1600 kVA</option>
                <option value="2000">2000 kVA</option>
                <option value="2500">2500 kVA</option>
            </select>
        </div>

        <div class="form-group">
            <label for="couplage">Couplage du transformateur:</label>
            <select id="couplage">
                <option value="Dyn11">Dyn11</option>
                <option value="Yyn0">Yyn0</option>
                <option value="Dzn0">Dzn0</option>
            </select>
        </div>

        <div class="form-group">
            <label for="ucc">Tension de court-circuit (Ucc %):</label>
            <input type="number" id="ucc" value="4" min="1" max="20" step="0.1">
        </div>

        <div class="form-group">
            <label for="material">Matériau des conducteurs:</label>
            <select id="material">
                <option value="cuivre">Cuivre</option>
                <option value="aluminium">Aluminium</option>
            </select>
        </div>

        <div class="form-group">
            <label for="length">Longueur de la canalisation (m):</label>
            <input type="number" id="length" value="10" min="1" max="1000">
        </div>

        <div class="form-group">
            <label for="installation-mode">Mode de pose de la canalisation:</label>
            <select id="installation-mode">
                <option value="aerien">Aérien</option>
                <option value="canalisation">Canalisation enterrée</option>
                <option value="gaine">Gaine électrique</option>
            </select>
        </div>

        <div class="form-group">
            <label for="phase-section" style="color: red;">Section des conducteurs de phase (mm²):</label>
            <select id="phase-section">
                <option value="1.5">1.5 mm²</option>
                <option value="2.5">2.5 mm²</option>
                <option value="4">4 mm²</option>
                <option value="6">6 mm²</option>
                <option value="10">10 mm²</option>
                <option value="16">16 mm²</option>
                <option value="25">25 mm²</option>
                <option value="35">35 mm²</option>
                <option value="50">50 mm²</option>
                <option value="70">70 mm²</option>
                <option value="95">95 mm²</option>
                <option value="120">120 mm²</option>
                <option value="150">150 mm²</option>
                <option value="185">185 mm²</option>
                <option value="240">240 mm²</option>
                <option value="300">300 mm²</option>
                <option value="400">400 mm²</option>
                <option value="500">500 mm²</option>
                <option value="630">630 mm²</option>
            </select>
        </div>

        <div class="form-group">
            <label for="phase-conductors">Nombre de conducteurs par phase:</label>
            <select id="phase-conductors">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </div>

        <div class="form-group">
            <label for="neutral-section" style="color: blue;">Section du conducteur de neutre (mm²):</label>
            <select id="neutral-section">
                <option value="1.5">1.5 mm²</option>
                <option value="2.5">2.5 mm²</option>
                <option value="4">4 mm²</option>
                <option value="6">6 mm²</option>
                <option value="10">10 mm²</option>
                <option value="16">16 mm²</option>
                <option value="25">25 mm²</option>
                <option value="35">35 mm²</option>
                <option value="50">50 mm²</option>
                <option value="70">70 mm²</option>
                <option value="95">95 mm²</option>
                <option value="120">120 mm²</option>
                <option value="150">150 mm²</option>
                <option value="185">185 mm²</option>
                <option value="240">240 mm²</option>
                <option value="300">300 mm²</option>
                <option value="400">400 mm²</option>
                <option value="500">500 mm²</option>
                <option value="630">630 mm²</option>
            </select>
        </div>

        <div class="form-group">
            <label for="neutral-conductors">Nombre de conducteurs de neutre:</label>
            <select id="neutral-conductors">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </div>

        <button onclick="calculate()">Calculer</button>

        <div class="result" id="result">
            <h3>Résultats:</h3>
            <p><span class="Ik3">Ik3 (Court-circuit triphasé):</span> <span id="Ik3">-</span> kA</p>
            <p><span class="Ik2">Ik2 (Court-circuit biphasé):</span> <span id="Ik2">-</span> kA</p>
            <p><span class="Ik1">Ik1 (Court-circuit monophasé):</span> <span id="Ik1">-</span> kA</p>
        </div>
    </div>

    <script>
        function calculate() {
            // Récupération des valeurs
            const power = parseFloat(document.getElementById("transfo-power").value);
            const ucc = parseFloat(document.getElementById("ucc").value);
            const length = parseFloat(document.getElementById("length").value);
            const phaseSection = parseFloat(document.getElementById("phase-section").value);
            const neutralSection = parseFloat(document.getElementById("neutral-section").value);
            const material = document.getElementById("material").value;
            const phaseConductors = parseInt(document.getElementById("phase-conductors").value);
            const neutralConductors = parseInt(document.getElementById("neutral-conductors").value);

            // Tension secondaire (400V par défaut)
            const U = 400; // Volts

            // Calcul de l'impédance du transformateur
            const Zt = (ucc / 100) * (U * U) / (power * 1000);

            // Résistivité des conducteurs (Cuivre: 0.0225, Aluminium: 0.036)
            const rho = (material === "cuivre") ? 0.0225 : 0.036;

            // Calcul de la résistance des conducteurs
            const Rphase = (rho * length) / (phaseSection * phaseConductors);
            const Rneutral = (rho * length) / (neutralSection * neutralConductors);

            // Réactance des conducteurs (approximation)
            const Xphase = 0.08 * length / 1000; // mΩ
            const Xneutral = 0.08 * length / 1000; // mΩ

            // Impédance totale pour Ik3 (Z = √(R² + X²))
            const Ztotal = Math.sqrt(Math.pow(Rphase + Rneutral, 2) + Math.pow(Xphase + Xneutral, 2) / 1000;

            // Calcul des courants de court-circuit
            const Ik3 = (U / Math.sqrt(3)) / (Zt + Ztotal) / 1000; // en kA
            const Ik2 = Ik3 * Math.sqrt(3) / 2; // en kA
            const Ik1 = U / (Zt + Ztotal + Rneutral) / 1000; // en kA (approximation)

            // Affichage des résultats
            document.getElementById("Ik3").textContent = Ik3.toFixed(2);
            document.getElementById("Ik2").textContent = Ik2.toFixed(2);
            document.getElementById("Ik1").textContent = Ik1.toFixed(2);
        }
    </script>
</body>
</html>
